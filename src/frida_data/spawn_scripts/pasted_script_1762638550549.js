Java.perform(function(){console.log('[+] Starting Final Hybrid Inspector...');try{var a=Java.use('android.view.View');a.setOnClickListener.implementation=function(b){var c=Java.use("android.util.Log").getStackTraceString(Java.use("java.lang.Throwable").$new());if(c.indexOf("com.grindrapp.android.ui.albums")!==-1){var d="[CLICK SPY] setOnClickListener called from within the albums UI! | Target View Class: "+this.getClass().getName();send({type:"click_spy",message:d,stack:c})}return this.setOnClickListener(b)};console.log('[+] Click spy is active.')}catch(e){console.log('[!] Failed to set up click spy: '+e.message)}try{var f=Java.use('android.view.View');f.setOnLongClickListener.implementation=function(g){var h=Java.use("android.util.Log").getStackTraceString(Java.use("java.lang.Throwable").$new());var i="[LONG-PRESS SPY] setOnLongClickListener called! | Target View Class: "+this.getClass().getName();send({type:"longpress_spy",message:i,stack:h});return this.setOnLongClickListener(g)};console.log('[+] Long-press spy is active.')}catch(j){console.log('[!] Failed to hook View.setOnLongClickListener: '+j.message)}console.log('[*] Installing Activity lifecycle monitors...');var k=Java.use("android.app.Activity");k.onCreate.overload('android.os.Bundle').implementation=function(l){var m=this.getClass().getName();send({type:"lifecycle",message:"[onCreate] "+m});return this.onCreate(l)};k.onResume.implementation=function(){send({type:"lifecycle",message:"[onResume] "+this.getClass().getName()});return this.onResume()};console.log('[+] Activity lifecycle monitors installed.')});
